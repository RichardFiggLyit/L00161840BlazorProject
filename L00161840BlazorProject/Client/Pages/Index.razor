@page "/"

@inject ICompanyRepository companyRepository
@inject IEmailService emailService
<h1>Hello, world!</h1>

Welcome to your new app.
<AuthorizeView Roles="Admin">
    <Authorized>
        <div>
            You are authorized, @context.User.Identity.Name<br />Send an email<br />
            <button class="btn btn-primary" @onclick="SendEmail">Click me</button>
        </div>
    </Authorized>
    <NotAuthorized>
        <SurveyPrompt Title="How is Blazor working for you?" />
    </NotAuthorized>
</AuthorizeView>
<AuthorizeView Roles="Employee">
    <Authorized>
        <div>
            You are authorized, @context.User.Identity.Name<br />
        </div>
    </Authorized>
    <NotAuthorized>
        <SurveyPrompt Title="How is Blazor working for you?" />
    </NotAuthorized>
</AuthorizeView>



@code{
    private async Task SendEmail()
    {
        await emailService.SendEmail("info@portal.com","test@employee.com","Test Subject","Test body");

    }




}